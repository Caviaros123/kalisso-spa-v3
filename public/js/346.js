"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[346],{8346:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var s=r(2954),a=r(4479);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,s.l7)("required",i(i({},a.required),{},{message:"Ce champ est requis"}));const l={name:"ResetPassword",props:{username:{type:String}},components:{ValidationProvider:s.d_},data:function(){return{username:null|this.username,serverError:"",successMessage:this.dataSuccessMessage||null,loading:!1}},methods:{getValidationState:function(e){var t=e.dirty,r=e.validated,s=e.valid;return t||r?void 0===s?null:s:null},validateBeforeSubmit:function(){var e=this;this.$validator.validateAll().then((function(t){t&&e.login()}))},resetPassword:function(){var e=this;this.loading=!0,this.successMessage="",this.serverError="",this.$store.dispatch("retrieveToken",{username:this.username,password:this.password}).then((function(t){e.password="",e.successMessage="",e.serverError="",e.$router.push({name:"profile.index"}),e.loading=!1})).catch((function(t){e.loading=!1,e.$toast.error({title:"Echec de connexion",message:t.response.data.message}),e.serverError=t.response.data.message,e.password="",e.successMessage=""}))}}};const c=(0,r(1900).Z)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-wrapper"},[r("section",{staticClass:"section-content padding-y-xs",staticStyle:{"min-height":"16vh"}},[r("div",{staticClass:"mx-auto padding-y-md",staticStyle:{"max-width":"380px","margin-top":"6%"},attrs:{align:"center"}},[r("router-link",{attrs:{to:{name:"home"}}},[r("img",{staticClass:"center-block w-50 padding-y img-fluid",attrs:{src:"/images/logo.png",alt:"Logo Kalisso"}})])],1),e._v(" "),r("div",{staticClass:"card mx-auto",staticStyle:{"max-width":"380px","margin-top":"10px"}},[e.successMessage?r("div",{staticClass:"alert alert-success text-center m-2"},[e._v("\n        "+e._s(e.successMessage)+"\n      ")]):e._e(),e._v(" "),e.serverError?r("div",{staticClass:"alert alert-danger text-center m-2"},[e._v("\n        "+e._s(e.serverError)+"\n      ")]):e._e(),e._v(" "),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title mb-4"},[e._v("Mot de passe oublié")]),e._v(" "),r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),s(e.login)}}},[r("div",{staticClass:"form-group"},[r("validation-provider",{attrs:{name:"Username",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[r("label",{staticClass:"small text-muted"},[e._v("Respecter ce format pour téléphone: "),r("strong",{staticClass:"text-danger"},[e._v("242055452277")])]),e._v(" "),r("b-form-input",{staticClass:"form-control",attrs:{id:"username",name:"username",placeholder:"Email ou Numéro de Téléphone",type:"text",state:e.getValidationState(t),"aria-describedby":"input-2-live-feedback"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()}},model:{value:e.username,callback:function(t){e.username="string"==typeof t?t.trim():t},expression:"username"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"input-2-live-feedback"}},[e._v(e._s(t.errors[0]))])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:e.loading}},[e.loading?r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e._v("\n                Récupérer "),r("i",{staticClass:"fa fa-arrow-right pl-2 text-light"})])])])]}}])})],1)]),e._v(" "),r("p",{staticClass:"text-center mt-4"},[e._v("\n      Besoin d'aide?\n      "),r("router-link",{attrs:{to:{name:"contact"}}},[e._v("Contactez l'assistance")])],1),e._v(" "),r("p",{staticClass:"text-center mt-5"},[r("router-link",{attrs:{to:{name:"login"}}},[r("i",{staticClass:"fa fa-arrow-left text-primary"}),e._v(" Retour")])],1)])])}),[],!1,null,null,null).exports}}]);